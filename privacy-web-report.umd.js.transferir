(function(n,j){typeof exports=="object"&&typeof module<"u"?j(require("vue"),require("axios"),require("vue-i18n"),require("moment"),require("moment/dist/locale/pt-br"),require("moment/dist/locale/es"),require("element-plus"),require("element-plus/dist/locale/pt-br"),require("element-plus/dist/locale/es"),require("@fortawesome/fontawesome-svg-core")):typeof define=="function"&&define.amd?define(["vue","axios","vue-i18n","moment","moment/dist/locale/pt-br","moment/dist/locale/es","element-plus","element-plus/dist/locale/pt-br","element-plus/dist/locale/es","@fortawesome/fontawesome-svg-core"],j):(n=typeof globalThis<"u"?globalThis:n||self,j(n.Vue,n.axios,n.VueI18n,n.moment,null,null,n.ElementPlus,n.ElementPlusLocalePtBr,n.ElementPlusLocaleEs,n["fontawesome-svg-core"]))})(this,function(n,j,ze,re,un,fn,R,De,Be,T){"use strict";function se(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:()=>e[o]})}}return t.default=e,Object.freeze(t)}const q=se(ze),J=se(R),le={name:"privacy.web.report",version:"1.0.0",private:!0,scripts:{dev:"vite --host",build:"vite build","build-w":"vite build --watch",serve:"vite preview","clean:lib":"rm -rf dist/*.js && rm -rf dist/*.map && rm -rf dist/*.css && rm -rf dist/*.html",lint:"eslint --ext .js,.vue --ignore-path .gitignore --fix src",reset:"rm -rf node_modules && rm -rf package-lock.json && npm i","reset-all":"cd demo && npm run reset-all","http-server":"http-server . -c 0 --cors *"},dependencies:{"@fortawesome/fontawesome-svg-core":"6.4.0","@fortawesome/pro-light-svg-icons":"6.4.0","@fortawesome/pro-regular-svg-icons":"6.4.0","@fortawesome/pro-solid-svg-icons":"6.4.0","@fortawesome/vue-fontawesome":"3.0.3",axios:"1.3.3","element-plus":"2.2.30",moment:"2.29.4",pinia:"2.0.30","url-join":"5.0.0","vue-i18n":"9.5.0","vue-jwt-decode":"0.1.0","vue-plugin-load-script":"2.1.1"},devDependencies:{"@intlify/unplugin-vue-i18n":"1.4.0","@rushstack/eslint-patch":"1.2.0","@vitejs/plugin-basic-ssl":"1.0.1","@vitejs/plugin-vue":"4.0.0","@vue/eslint-config-prettier":"7.0.0","core-js":"3.29.0",eslint:"8.34.0","eslint-plugin-vue":"9.9.0",prettier:"2.8.4",sass:"1.59.3","unplugin-auto-import":"0.15.1","unplugin-element-plus":"0.7.0","unplugin-vue-components":"0.24.1",vite:"4.1.1","vite-plugin-html-env":"1.2.8",vue:"3.3.0"}}.name.replace(/\./g,"-"),Ce=({component:e=null,plugins:t=[]}={})=>n.defineCustomElement({emits:e.emits,computed:e.computed,props:e.props,styles:e.styles,setup(o){const r=n.createApp();r.component("app-root",e),t.forEach(i=>r.use(i));const s=n.getCurrentInstance(),l=Array.isArray(e.emits)?e.emits:Object.keys(e.emits),a=Object.fromEntries((l||[]).map(i=>[`on${i[0].toUpperCase()}${i.slice(1)}`,u=>s.emit(i,u)]));return Object.assign(s.appContext,r._context),Object.assign(s.provides,r._context.provides),()=>n.h(e,{...o,...a})}});var Ne=!1;/*!
  * pinia v2.0.30
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let ae;const H=e=>ae=e,ie=Symbol();function Q(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var k;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(k||(k={}));function je(){const e=n.effectScope(!0),t=e.run(()=>n.ref({}));let o=[],r=[];const s=n.markRaw({install(l){H(s),s._a=l,l.provide(ie,s),l.config.globalProperties.$pinia=s,r.forEach(a=>o.push(a)),r=[]},use(l){return!this._a&&!Ne?r.push(l):o.push(l),this},_p:o,_a:null,_e:e,_s:new Map,state:t});return s}const ce=()=>{};function ue(e,t,o,r=ce){e.push(t);const s=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),r())};return!o&&n.getCurrentScope()&&n.onScopeDispose(s),s}function B(e,...t){e.slice().forEach(o=>{o(...t)})}function X(e,t){e instanceof Map&&t instanceof Map&&t.forEach((o,r)=>e.set(r,o)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const o in t){if(!t.hasOwnProperty(o))continue;const r=t[o],s=e[o];Q(s)&&Q(r)&&e.hasOwnProperty(o)&&!n.isRef(r)&&!n.isReactive(r)?e[o]=X(s,r):e[o]=r}return e}const ke=Symbol();function Ve(e){return!Q(e)||!e.hasOwnProperty(ke)}const{assign:w}=Object;function $e(e){return!!(n.isRef(e)&&e.effect)}function Fe(e,t,o,r){const{state:s,actions:l,getters:a}=t,i=o.state.value[e];let u;function _(){i||(o.state.value[e]=s?s():{});const p=n.toRefs(o.state.value[e]);return w(p,l,Object.keys(a||{}).reduce((E,y)=>(E[y]=n.markRaw(n.computed(()=>{H(o);const L=o._s.get(e);return a[y].call(L,L)})),E),{}))}return u=fe(e,_,t,o,r,!0),u.$reset=function(){const E=s?s():{};this.$patch(y=>{w(y,E)})},u}function fe(e,t,o={},r,s,l){let a;const i=w({actions:{}},o),u={deep:!0};let _,p,E=n.markRaw([]),y=n.markRaw([]),L;const A=r.state.value[e];!l&&!A&&(r.state.value[e]={}),n.ref({});let N;function F(d){let m;_=p=!1,typeof d=="function"?(d(r.state.value[e]),m={type:k.patchFunction,storeId:e,events:L}):(X(r.state.value[e],d),m={type:k.patchObject,payload:d,storeId:e,events:L});const D=N=Symbol();n.nextTick().then(()=>{N===D&&(_=!0)}),p=!0,B(E,m,r.state.value[e])}const c=ce;function f(){a.stop(),E=[],y=[],r._s.delete(e)}function b(d,m){return function(){H(r);const D=Array.from(arguments),M=[],U=[];function an(O){M.push(O)}function cn(O){U.push(O)}B(y,{args:D,name:d,store:g,after:an,onError:cn});let W;try{W=m.apply(this&&this.$id===e?this:g,D)}catch(O){throw B(U,O),O}return W instanceof Promise?W.then(O=>(B(M,O),O)).catch(O=>(B(U,O),Promise.reject(O))):(B(M,W),W)}}const v={_p:r,$id:e,$onAction:ue.bind(null,y),$patch:F,$reset:c,$subscribe(d,m={}){const D=ue(E,d,m.detached,()=>M()),M=a.run(()=>n.watch(()=>r.state.value[e],U=>{(m.flush==="sync"?p:_)&&d({storeId:e,type:k.direct,events:L},U)},w({},u,m)));return D},$dispose:f},g=n.reactive(v);r._s.set(e,g);const z=r._e.run(()=>(a=n.effectScope(),a.run(()=>t())));for(const d in z){const m=z[d];if(n.isRef(m)&&!$e(m)||n.isReactive(m))l||(A&&Ve(m)&&(n.isRef(m)?m.value=A[d]:X(m,A[d])),r.state.value[e][d]=m);else if(typeof m=="function"){const D=b(d,m);z[d]=D,i.actions[d]=m}}return w(g,z),w(n.toRaw(g),z),Object.defineProperty(g,"$state",{get:()=>r.state.value[e],set:d=>{F(m=>{w(m,d)})}}),r._p.forEach(d=>{w(g,a.run(()=>d({store:g,app:r._a,pinia:r,options:i})))}),A&&l&&o.hydrate&&o.hydrate(g.$state,A),_=!0,p=!0,g}function Me(e,t,o){let r,s;const l=typeof t=="function";typeof e=="string"?(r=e,s=l?o:t):(s=e,r=e.id);function a(i,u){const _=n.getCurrentInstance();return i=i||_&&n.inject(ie,null),i&&H(i),i=ae,i._s.has(r)||(l?fe(r,t,s,i):Fe(r,s,i)),i._s.get(r)}return a.$id=r,a}let Ue="Store";function We(...e){return e.reduce((t,o)=>(t[o.$id+Ue]=function(){return o(this.$pinia)},t),{})}const qe={"REPORT_MODAL.TITLE":e=>{const{normalize:t}=e;return t(["Denunciar"])},REPORT_REASON_SELECT:{LABEL:e=>{const{normalize:t}=e;return t(["Motivo da denúncia"])},PLACEHOLDER:e=>{const{normalize:t}=e;return t(["Selecione o motivo da denúncia"])}},"REPORT_DETAILS_TEXTAREA.LABEL":e=>{const{normalize:t}=e;return t(["Detalhes"])},"REPORT_SUBMIT_BUTTON.TITLE":e=>{const{normalize:t}=e;return t(["Enviar"])},"REPORT_FORM.UNAVAILABLE_OPTIONS":e=>{const{normalize:t}=e;return t(["Houve um problema interno, não é possível registrar sua denúncia neste momento, tente novamente"])},"REPORT_FORM.SENT_SUCCESS":e=>{const{normalize:t}=e;return t(["Denúncia enviada com sucesso!"])},"REPORT_FORM.SENT_ERROR":e=>{const{normalize:t}=e;return t(["Houve um problema interno, não foi possível registrar sua denúncia neste momento, tente novamente"])},VALIDATION:{REQUIRED_FIELD:e=>{const{normalize:t}=e;return t(["Campo obrigatório"])}}},He={"REPORT_MODAL.TITLE":e=>{const{normalize:t}=e;return t(["Report"])},REPORT_REASON_SELECT:{LABEL:e=>{const{normalize:t}=e;return t(["Reason for the report"])},PLACEHOLDER:e=>{const{normalize:t}=e;return t(["Select the reason for the report"])}},"REPORT_DETAILS_TEXTAREA.LABEL":e=>{const{normalize:t}=e;return t(["Details"])},"REPORT_SUBMIT_BUTTON.TITLE":e=>{const{normalize:t}=e;return t(["Send"])},"REPORT_FORM.UNAVAILABLE_OPTIONS":e=>{const{normalize:t}=e;return t(["There was an internal problem, it is not possible to register your report at this time, please try again"])},"REPORT_FORM.SENT_SUCCESS":e=>{const{normalize:t}=e;return t(["Report sent successfully!"])},"REPORT_FORM.SENT_ERROR":e=>{const{normalize:t}=e;return t(["There was an internal problem, we were unable to register your report at this time, please try again"])},VALIDATION:{REQUIRED_FIELD:e=>{const{normalize:t}=e;return t(["Required field"])}}},Ke={"REPORT_MODAL.TITLE":e=>{const{normalize:t}=e;return t(["Quejarse"])},REPORT_REASON_SELECT:{LABEL:e=>{const{normalize:t}=e;return t(["Motivo de la denuncia"])},PLACEHOLDER:e=>{const{normalize:t}=e;return t(["Seleccione el motivo de la denuncia"])}},"REPORT_DETAILS_TEXTAREA.LABEL":e=>{const{normalize:t}=e;return t(["Detalles"])},"REPORT_SUBMIT_BUTTON.TITLE":e=>{const{normalize:t}=e;return t(["Enviar"])},"REPORT_FORM.UNAVAILABLE_OPTIONS":e=>{const{normalize:t}=e;return t(["Hubo un problema interno, no es posible registrar su informe en este momento, inténtelo nuevamente"])},"REPORT_FORM.SENT_SUCCESS":e=>{const{normalize:t}=e;return t(["Denuncia enviada exitosamente!"])},"REPORT_FORM.SENT_ERROR":e=>{const{normalize:t}=e;return t(["Hubo un problema interno, no pudimos registrar su informe en este momento, inténtelo nuevamente"])},VALIDATION:{REQUIRED_FIELD:e=>{const{normalize:t}=e;return t(["Campo obligatorio"])}}};let V=null;const Y={install(e){return V=q.createI18n({legacy:!1,locale:"pt",fallbackLocale:"pt",globalInjection:!1}),e.use(V),Je(),V},get global(){return V.global}};function Je(){n.inject(q.I18nInjectionKey)||n.provide(q.I18nInjectionKey,V)}function C(){var r,s;const e=n.getCurrentInstance();n.inject((s=(r=e==null?void 0:e.appContext)==null?void 0:r.app)==null?void 0:s.__VUE_I18N_SYMBOL__)||(e.isCE=!0);const{t:o}=q.useI18n({messages:{pt:qe,en:He,es:Ke}});return{t:o}}re.locale("pt-br");function Qe(e){re.locale(e)}const x={get defaultLocale(){return"pt"},set currentLocale(e){e=e&&e.split("-")[0],Y.global.locale.value=e},get currentLocale(){return Y.global.locale.value},setTranslate({t:e}){this.t=e},getUserLocale(){const e=window.navigator.language||window.navigator.userLanguage||x.defaultLocale;return{locale:e,localeNoRegion:e.split("-")[0]}},getMessage(e){return this.t(e)},async switchLanguage(e){x.currentLocale=e,Qe(e)}};function Xe(e){const{t}=C();x.setTranslate({t}),n.watch(e.locale,o=>{x.switchLanguage(o||e.locale)},{immediate:!0})}const I={value:null,provides:null,emit:null},pe={install(e,t){e.config.globalProperties.$http||(I.value=j.create({baseURL:t==null?void 0:t.baseUrl}),I.value.interceptors.request.use(o=>(o.includeAppAuthorization!=!1&&I.provides.token.value&&!o.headers.Authorization&&(o.apiAuth=="v1"?o.headers.Authorization=`Bearer ${I.provides.tokenV1.value}`:o.headers.Authorization=`Bearer ${I.provides.token.value}`),o.headers["Accept-Language"]||(o.headers["Accept-Language"]=I.provides.locale.value||x.defaultLocale),o),o=>Promise.reject(o)),e.config.globalProperties.$http=I.value)},useProvides(e){I.provides=e.provides,I.emit=e.emit}},yn="",bn="",Rn="";var Ye={prefix:"fal",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 32a224 224 0 1 1 0 448 224 224 0 1 1 0-448zm0 480A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c-8.8 0-16 7.2-16 16V272c0 8.8 7.2 16 16 16s16-7.2 16-16V144c0-8.8-7.2-16-16-16zm24 224a24 24 0 1 0 -48 0 24 24 0 1 0 48 0z"]},de=Ye;function Ge(e){var t=[];if(e.length===0)return"";if(typeof e[0]!="string")throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var o=e.shift();e[0]=o+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<e.length;r++){var s=e[r];if(typeof s!="string")throw new TypeError("Url must be a string. Received "+s);s!==""&&(r>0&&(s=s.replace(/^[\/]+/,"")),r<e.length-1?s=s.replace(/[\/]+$/,""):s=s.replace(/[\/]+$/,"/"),t.push(s))}var l=t.join("/");l=l.replace(/\/(\?|&|#[^!])/g,"$1");var a=l.split("?");return l=a.shift()+(a.length>0?"?":"")+a.join("&"),l}function me(){var e;return typeof arguments[0]=="object"?e=arguments[0]:e=[].slice.call(arguments),Ge(e)}const En="",G={ERROR:"error",SUCCESS:"success"},_e=6e3,Z={requiredField:{required:!0,message:()=>x.getMessage("VALIDATION.REQUIRED_FIELD"),trigger:[]}},Ze={install(e){e.directive("loading",J.vLoading);for(const t in J)t.startsWith("El")&&e.component(t,J[t])}};n.computed(()=>{var e,t;if((e=x.currentLocale)!=null&&e.startsWith("pt"))return De;if((t=x.currentLocale)!=null&&t.startsWith("es"))return Be});const On="",Sn="",vn="",In="",Tn="",Pn="",wn="",xn="",P=(e,t)=>{const o=e.__vccOpts||e;for(const[r,s]of t)o[r]=s;return o},et={setup(){const{t:e}=C();return{t:e,rules:Z,faExclamationCircle:de}},components:{ElFormItem:R.ElFormItem,ElSelect:R.ElSelect,ElOption:R.ElOption},props:{reportReasons:Array,isDisabled:Boolean,reason:String},data(e){return{value:e.reason}},methods:{resetInput(){this.value=null}}};function tt(e,t,o,r,s,l){const a=n.resolveComponent("el-option"),i=n.resolveComponent("font-awesome-icon"),u=n.resolveComponent("el-select"),_=n.resolveComponent("el-form-item");return n.openBlock(),n.createBlock(_,{prop:"reason",rules:[r.rules.requiredField],label:r.t("REPORT_REASON_SELECT.LABEL"),class:"form-group"},{default:n.withCtx(()=>[n.createVNode(u,{class:"select-input",size:"large",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=p=>s.value=p),placeholder:r.t("REPORT_REASON_SELECT.PLACEHOLDER"),teleported:!1,filterable:"",disabled:o.isDisabled,onChange:t[1]||(t[1]=p=>e.$emit("update:reason",p))},{prefix:n.withCtx(()=>[n.createVNode(i,{class:"icon-font",icon:r.faExclamationCircle},null,8,["icon"])]),default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(o.reportReasons,p=>(n.openBlock(),n.createBlock(a,{key:p._id,label:p.complaint,value:p._id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","disabled"])]),_:1},8,["rules","label"])}const ge=P(et,[["render",tt]]),nt=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"})),ot={setup(){const{t:e}=C();return{t:e,rules:Z}},props:{details:String,isDisabled:Boolean},data(e){return{value:e.details}},components:{ElFormItem:R.ElFormItem,ElInput:R.ElInput},methods:{resetInput(){this.value=null}}},rt={class:"formBox"};function st(e,t,o,r,s,l){const a=n.resolveComponent("el-input"),i=n.resolveComponent("el-form-item");return n.openBlock(),n.createElementBlock("div",rt,[n.createVNode(i,{rules:[r.rules.requiredField],prop:"details",label:r.t("REPORT_DETAILS_TEXTAREA.LABEL"),class:"form-group"},{default:n.withCtx(()=>[n.createVNode(a,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=u=>s.value=u),type:"textarea",resize:"none",rows:"3",disabled:o.isDisabled,onInput:t[1]||(t[1]=u=>e.$emit("update:details",u))},null,8,["modelValue","disabled"])]),_:1},8,["rules","label"])])}const he=P(ot,[["render",st]]),lt=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"})),Ln="",at={setup(){const{t:e}=C();return{t:e}},props:{isLoading:{type:Boolean,default:!1}},components:{ElFormItem:R.ElFormItem,ElButton:R.ElButton},emits:["click"]};function it(e,t,o,r,s,l){const a=n.resolveComponent("el-button"),i=n.resolveComponent("el-form-item");return n.openBlock(),n.createBlock(i,null,{default:n.withCtx(()=>[n.createVNode(a,{onClick:t[0]||(t[0]=u=>e.$emit("onClick",u)),class:"btn-privacy",loading:o.isLoading},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(r.t("REPORT_SUBMIT_BUTTON.TITLE")),1)]),_:1},8,["loading"])]),_:1})}const ye=P(at,[["render",it]]),ct=Object.freeze(Object.defineProperty({__proto__:null,default:ye},Symbol.toStringTag,{value:"Module"})),An="",ut=`.alert-text{margin-bottom:8px}.fade-in{animation:fadeInAnimation .3s forwards}@keyframes fadeInAnimation{0%{opacity:0}to{opacity:1}}
`,ft={components:{ElAlert:R.ElAlert},props:{type:String,message:String,timer:{type:Number,default:null}},data(){return{visible:!1,timerId:null}},watch:{message(e){e&&this.showAlert()}},methods:{showAlert(){this.visible=!0,this.timer&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.visible=!1},this.timer))}}},pt={key:0,class:"alert-text fade-in"};function dt(e,t,o,r,s,l){const a=n.resolveComponent("el-alert");return s.visible?(n.openBlock(),n.createElementBlock("div",pt,[n.createVNode(a,{type:o.type,closable:!1,"show-icon":""},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(o.message),1)]),_:1},8,["type"])])):n.createCommentVNode("",!0)}const be=P(ft,[["render",dt],["styles",[ut]]]),mt=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"})),_t=`.loader{width:40px;height:40px}.loader .el-loading-spinner,.loader .el-loading-spinner .circular{width:100%;height:100%}
`,gt={directives:{loading:R.vLoading},props:{isLoading:{type:Boolean,required:!0}}},ht={class:"loader"};function yt(e,t,o,r,s,l){const a=n.resolveDirective("loading");return n.withDirectives((n.openBlock(),n.createElementBlock("div",ht,null,512)),[[a,o.isLoading]])}const Re=P(gt,[["render",yt],["styles",[_t]]]),bt=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"})),Rt=`.el-input__prefix svg{margin-right:0!important}.icon-font{margin-top:20px!important;width:16.63px!important;height:19px!important}.el-select .el-input{height:60px!important}.el-select .el-input__inner{font-size:16px!important;padding:20px 0 0 3px!important}.el-textarea__inner{padding:30px 20px!important}.el-input__suffix{position:absolute!important;right:10px!important}
`,Et={setup(){const{t:e}=C();return{t:e,rules:Z}},inject:["$http","appSettings"],components:{ReportReasonsSelect:ge,ReportDetailsTextarea:he,ReportSubmitButton:ye,AlertText:be,Loader:Re,ElForm:R.ElForm},props:{reportedProfileId:String,reportedPostId:String},data(){return{report:{reason:null,details:null},formIsLoading:!0,formIsWaitingResponse:!1,showForm:null,showAlert:!0,elAlert:{type:null,message:null,timer:null}}},mounted(){this.getComplaint()},methods:{async getComplaint(){try{const e=me(this.appSettings.ENDPOINT_API_ANTIFRAUD_REPORT,"/categories/complaint"),t=await this.$http.get(e);t.data&&(this.reportReasons=t.data,this.formIsLoading=!1,this.showForm=!0)}catch{this.showReportAlert(G.ERROR,this.t("REPORT_FORM.UNAVAILABLE_OPTIONS"))}finally{this.formIsLoading=!1}},async handleSubmit(){var t,o;if(await((o=(t=this.$refs.reportForm).validate)==null?void 0:o.call(t)))try{this.formIsWaitingResponse=!0;const r=me(this.appSettings.ENDPOINT_API_ANTIFRAUD_REPORT,"/reports/insert"),s={details:this.report.details,complaint:this.report.reason};this.reportedProfileId&&(s.clientIdReported=this.reportedProfileId),this.reportedPostId&&(s.reportedPostId=this.reportedPostId),await this.$http.post(r,s),this.resetForm(),this.showReportAlert(G.SUCCESS,this.t("REPORT_FORM.SENT_SUCCESS"),_e)}catch{this.showReportAlert(G.ERROR,this.t("REPORT_FORM.SENT_ERROR"),_e)}finally{this.formIsWaitingResponse=!1,this.formIsLoading=!1}},resetForm(){this.report.reason=null,this.report.details=null,this.$refs.reportReasonsSelect.resetInput(),this.$refs.reportDetailsTextarea.resetInput()},showReportAlert(e,t,o=null){this.elAlert.message=null,this.$nextTick(()=>{this.elAlert.message=t,this.elAlert.type=e,this.elAlert.timer=o})}}},Ot={key:0,class:"d-flex justify-content-center"};function St(e,t,o,r,s,l){const a=n.resolveComponent("Loader"),i=n.resolveComponent("ReportReasonsSelect"),u=n.resolveComponent("ReportDetailsTextarea"),_=n.resolveComponent("ReportSubmitButton"),p=n.resolveComponent("el-form"),E=n.resolveComponent("AlertText");return n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode(p,{ref:"reportForm","label-position":"top",model:s.report},{default:n.withCtx(()=>[s.formIsLoading?(n.openBlock(),n.createElementBlock("div",Ot,[n.createVNode(a,{isLoading:s.formIsLoading},null,8,["isLoading"])])):n.createCommentVNode("",!0),s.showForm?(n.openBlock(),n.createElementBlock(n.Fragment,{key:1},[n.createVNode(i,{ref:"reportReasonsSelect",reason:s.report.reason,"onUpdate:reason":t[0]||(t[0]=y=>s.report.reason=y),reportReasons:e.reportReasons,isDisabled:s.formIsWaitingResponse},null,8,["reason","reportReasons","isDisabled"]),n.createVNode(u,{ref:"reportDetailsTextarea",details:s.report.details,"onUpdate:details":t[1]||(t[1]=y=>s.report.details=y),isDisabled:s.formIsWaitingResponse},null,8,["details","isDisabled"]),n.createVNode(_,{isLoading:s.formIsWaitingResponse,onOnClick:l.handleSubmit},null,8,["isLoading","onOnClick"])],64)):n.createCommentVNode("",!0)]),_:1},8,["model"]),n.createVNode(E,{type:s.elAlert.type,message:s.elAlert.message,timer:s.elAlert.timer},null,8,["type","message","timer"])],64)}const Ee=P(Et,[["render",St],["styles",[Rt]]]),vt=Object.freeze(Object.defineProperty({__proto__:null,default:Ee},Symbol.toStringTag,{value:"Module"})),It={setup(){const{t:e}=C();return{t:e,faExclamationCircle:de}},emits:["close-dialog"],props:{modelValue:Boolean,reportedProfileId:String,reportedPostId:String},components:{ElDialog:R.ElDialog,ReportForm:Ee},methods:{closeDialog(){this.$refs.reportForm.resetForm(),this.$emit("close-dialog")}}};function Tt(e,t,o,r,s,l){const a=n.resolveComponent("ReportForm"),i=n.resolveComponent("el-dialog");return n.openBlock(),n.createBlock(i,{title:r.t("REPORT_MODAL.TITLE"),"model-value":o.modelValue,"destroy-on-close":"true",width:"80%",style:{"max-width":"800px"},onClose:l.closeDialog},{default:n.withCtx(()=>[n.createVNode(a,{ref:"reportForm",reportedProfileId:o.reportedProfileId,reportedPostId:o.reportedPostId},null,8,["reportedProfileId","reportedPostId"])]),_:1},8,["title","model-value","onClose"])}const Oe=P(It,[["render",Tt]]),Pt=Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"})),wt="",xt={emits:["close-dialog"],components:{ReportModal:Oe},props:{showDialog:{type:Boolean},reportedProfileId:String,reportedPostId:String},data(){return{reportDialog:{show:!1}}},watch:{showDialog:{immediate:!0,handler(e){this.reportDialog.show=e==="false"?!1:e}}}};function Lt(e,t,o,r,s,l){const a=n.resolveComponent("ReportModal");return n.openBlock(),n.createElementBlock("div",null,[n.createVNode(a,{modelValue:s.reportDialog.show,"onUpdate:modelValue":t[0]||(t[0]=i=>s.reportDialog.show=i),reportedProfileId:o.reportedProfileId,reportedPostId:o.reportedPostId,onCloseDialog:t[1]||(t[1]=i=>e.$emit("close-dialog"))},null,8,["modelValue","reportedProfileId","reportedPostId"])])}const Se=P(xt,[["render",Lt],["styles",[wt]]]),At=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"})),ve=je(),Ie={install(e){e.use(ve)},useProvides(e){const t=()=>({global:{instance:e,ready:e.provides.ready,appSettings:e.provides.appSettings,token:e.provides.token,$http:e.provides.$http,locale:e.provides.locale}});ve.use(t)}},zt=Me("app",{getters:{ready:e=>e.global.ready,appSettings:e=>e.global.appSettings,token:e=>e.global.token,$http:e=>e.global.$http,locale:e=>e.global.locale}}),Dt=900;function Te(){return window.innerWidth<Dt}function Bt(e){return(e==null?void 0:e.toString().toLocaleLowerCase())==="true"||e===!0}function Ct(e){return e?typeof e=="object"?e:JSON.parse(e):{}}function Nt(e){const t=e?atob(e):void 0;return Ct(t)}function jt(e){for(const t in e)kt(e[t])&&(e[t]=e[t].replace(/\?&/g,""))}function kt(e){return e&&typeof e=="string"&&e.startsWith("http")}const Vt=()=>{const e=n.ref(Te()),t=new ResizeObserver(()=>{e.value=Te()});n.onMounted(()=>{t.observe(document.body),n.provide("isSmallDevice",e)}),n.onBeforeUnmount(()=>{t&&(t.unobserve(document.body),t.disconnect(document.body))})},$t=e=>{n.provide("ready",n.computed(()=>e.ready==null?!0:Bt(e.ready))),n.provide("appSettings",n.computed(()=>{const t=Nt(e.appSettings);return jt(t),t})),n.provide("token",n.computed(()=>e.token)),n.provide("tokenV1",n.computed(()=>e.tokenV1)),n.provide("$http",n.computed(()=>I.value)),n.provide("locale",n.computed(()=>e.locale))},Ft=({emit:e})=>{const t=n.ref(!1);return n.onMounted(()=>{if(document.readyState==="complete")t.value=!0,e("ready");else{const o=window.addEventListener("load",()=>{t.value=!0,window.removeEventListener("load",o),e("ready")})}}),{windowLoaded:t}},Mt=`@import"https://fonts.googleapis.com/css2?family=Inter&display=swap";@import"https://cdnjs.cloudflare.com/ajax/libs/element-plus/2.2.30/index.min.css";@import"https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/css/bootstrap.min.css";
`,Ut={computed:{...We(zt)},beforeMount(){this.$emit("before-mount",{context:this})},mounted(){this.$emit("mounted",{context:this,el:this.$el})}},Wt=Object.assign(Ut,{__name:"App.ce",props:{ready:{type:[Boolean,String],default:!0},appSettings:[Object,String],token:String,tokenV1:String,locale:String,showDialog:{type:Boolean,default:!1},reportedProfileId:String,reportedPostId:{type:String,default:null}},emits:{"before-mount":null,mounted:null,ready:null,loaded:null,"close-dialog":null},setup(e,{emit:t}){const o=e,r=n.getCurrentInstance();$t(o),Vt(),Xe(o);const{windowLoaded:s}=Ft({emit:t});return pe.useProvides(r),Ie.useProvides(r),(l,a)=>{var i;return n.openBlock(),n.createElementBlock(n.Fragment,null,[(i=l.appStore.appSettings)!=null&&i.PRIVACY_MODULES?(n.openBlock(),n.createBlock(n.resolveDynamicComponent("style"),{key:0},{default:n.withCtx(()=>{var u;return[n.createTextVNode(' @import "'+n.toDisplayString((u=l.appStore.appSettings)==null?void 0:u.PRIVACY_MODULES)+'/styles/privacy.components.css"; ',1)]}),_:1})):n.createCommentVNode("",!0),l.appStore.ready&&n.unref(s)?(n.openBlock(),n.createBlock(Se,{key:1,class:"app-wc",showDialog:e.showDialog,reportedProfileId:e.reportedProfileId,reportedPostId:e.reportedPostId,onCloseDialog:a[0]||(a[0]=u=>l.$emit("close-dialog"))},null,8,["showDialog","reportedProfileId","reportedPostId"])):n.createCommentVNode("",!0)],64)}}}),ee=P(Wt,[["styles",[Mt]]]),qt=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));async function Ht(){const e=Object.assign({"../App.ce.vue":()=>Promise.resolve().then(()=>qt),"../components/Index.vue":()=>Promise.resolve().then(()=>At),"../components/ReportModal.vue":()=>Promise.resolve().then(()=>Pt),"../components/base/AlertText.vue":()=>Promise.resolve().then(()=>mt),"../components/base/Loader.vue":()=>Promise.resolve().then(()=>bt),"../components/base/ReportDetailsTextarea.vue":()=>Promise.resolve().then(()=>lt),"../components/base/ReportForm.vue":()=>Promise.resolve().then(()=>vt),"../components/base/ReportReasonsSelect.vue":()=>Promise.resolve().then(()=>nt),"../components/base/ReportSubmitButton.vue":()=>Promise.resolve().then(()=>ct)}),t=[];for(const o in e){const r=await e[o]();t.push(r.default.styles)}return[t.flat().join("")]}function Pe(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),o.push.apply(o,r)}return o}function S(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Pe(Object(o),!0).forEach(function(r){h(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Pe(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function K(e){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(e)}function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Kt(e,t){if(e==null)return{};var o={},r=Object.keys(e),s,l;for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&(o[s]=e[s]);return o}function Jt(e,t){if(e==null)return{};var o=Kt(e,t),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function te(e){return Qt(e)||Xt(e)||Yt(e)||Gt()}function Qt(e){if(Array.isArray(e))return ne(e)}function Xt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yt(e,t){if(e){if(typeof e=="string")return ne(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ne(e,t)}}function ne(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function Gt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},we={exports:{}};(function(e){(function(t){var o=function(c,f,b){if(!_(f)||E(f)||y(f)||L(f)||u(f))return f;var v,g=0,z=0;if(p(f))for(v=[],z=f.length;g<z;g++)v.push(o(c,f[g],b));else{v={};for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(v[c(d,b)]=o(c,f[d],b))}return v},r=function(c,f){f=f||{};var b=f.separator||"_",v=f.split||/(?=[A-Z])/;return c.split(v).join(b)},s=function(c){return A(c)?c:(c=c.replace(/[\-_\s]+(.)?/g,function(f,b){return b?b.toUpperCase():""}),c.substr(0,1).toLowerCase()+c.substr(1))},l=function(c){var f=s(c);return f.substr(0,1).toUpperCase()+f.substr(1)},a=function(c,f){return r(c,f).toLowerCase()},i=Object.prototype.toString,u=function(c){return typeof c=="function"},_=function(c){return c===Object(c)},p=function(c){return i.call(c)=="[object Array]"},E=function(c){return i.call(c)=="[object Date]"},y=function(c){return i.call(c)=="[object RegExp]"},L=function(c){return i.call(c)=="[object Boolean]"},A=function(c){return c=c-0,c===c},N=function(c,f){var b=f&&"process"in f?f.process:f;return typeof b!="function"?c:function(v,g){return b(v,c,g)}},F={camelize:s,decamelize:a,pascalize:l,depascalize:a,camelizeKeys:function(c,f){return o(N(s,f),c)},decamelizeKeys:function(c,f){return o(N(a,f),c,f)},pascalizeKeys:function(c,f){return o(N(l,f),c)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=F:t.humps=F})(Zt)})(we);var en=we.exports,tn=["class","style"];function nn(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,o){var r=o.indexOf(":"),s=en.camelize(o.slice(0,r)),l=o.slice(r+1).trim();return t[s]=l,t},{})}function on(e){return e.split(/\s+/).reduce(function(t,o){return t[o]=!0,t},{})}function oe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(u){return oe(u)}),s=Object.keys(e.attributes||{}).reduce(function(u,_){var p=e.attributes[_];switch(_){case"class":u.class=on(p);break;case"style":u.style=nn(p);break;default:u.attrs[_]=p}return u},{attrs:{},class:{},style:{}});o.class;var l=o.style,a=l===void 0?{}:l,i=Jt(o,tn);return n.h(e.tag,S(S(S({},t),{},{class:s.class,style:S(S({},s.style),a)},s.attrs),i),r)}var xe=!1;try{xe=!0}catch{}function rn(){if(!xe&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function $(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?h({},e,t):{}}function sn(e){var t,o=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},h(t,"fa-".concat(e.size),e.size!==null),h(t,"fa-rotate-".concat(e.rotation),e.rotation!==null),h(t,"fa-pull-".concat(e.pull),e.pull!==null),h(t,"fa-swap-opacity",e.swapOpacity),h(t,"fa-bounce",e.bounce),h(t,"fa-shake",e.shake),h(t,"fa-beat",e.beat),h(t,"fa-fade",e.fade),h(t,"fa-beat-fade",e.beatFade),h(t,"fa-flash",e.flash),h(t,"fa-spin-pulse",e.spinPulse),h(t,"fa-spin-reverse",e.spinReverse),t);return Object.keys(o).map(function(r){return o[r]?r:null}).filter(function(r){return r})}function Le(e){if(e&&K(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(T.parse.icon)return T.parse.icon(e);if(e===null)return null;if(K(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var ln=n.defineComponent({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,o){var r=o.attrs,s=n.computed(function(){return Le(t.icon)}),l=n.computed(function(){return $("classes",sn(t))}),a=n.computed(function(){return $("transform",typeof t.transform=="string"?T.parse.transform(t.transform):t.transform)}),i=n.computed(function(){return $("mask",Le(t.mask))}),u=n.computed(function(){return T.icon(s.value,S(S(S(S({},l.value),a.value),i.value),{},{symbol:t.symbol,title:t.title}))});n.watch(u,function(p){if(!p)return rn("Could not find one or more icon(s)",s.value,i.value)},{immediate:!0});var _=n.computed(function(){return u.value?oe(u.value.abstract[0],{},r):null});return function(){return _.value}}});n.defineComponent({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(t,o){var r=o.slots,s=T.config.familyPrefix,l=n.computed(function(){return["".concat(s,"-layers")].concat(te(t.fixedWidth?["".concat(s,"-fw")]:[]))});return function(){return n.h("div",{class:l.value},r.default?r.default():[])}}}),n.defineComponent({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(t){return["bottom-left","bottom-right","top-left","top-right"].indexOf(t)>-1}}},setup:function(t,o){var r=o.attrs,s=T.config.familyPrefix,l=n.computed(function(){return $("classes",[].concat(te(t.counter?["".concat(s,"-layers-counter")]:[]),te(t.position?["".concat(s,"-layers-").concat(t.position)]:[])))}),a=n.computed(function(){return $("transform",typeof t.transform=="string"?T.parse.transform(t.transform):t.transform)}),i=n.computed(function(){var _=T.text(t.value.toString(),S(S({},a.value),l.value)),p=_.abstract;return t.counter&&(p[0].attributes.class=p[0].attributes.class.replace("fa-layers-text","")),p[0]}),u=n.computed(function(){return oe(i.value,{},r)});return function(){return u.value}}});const Ae={css:T.dom.css,install(e){e.component("font-awesome-icon",ln)}};(async()=>{const e=[Ae.css(),...await Ht()];if(ee.styles=e,!customElements.get(le)){const o=Ce({component:ee,plugins:[Ze,Ae,Ie,pe,Y]});customElements.define(le,o)}})()});
